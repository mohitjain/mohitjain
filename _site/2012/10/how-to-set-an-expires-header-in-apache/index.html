<!DOCTYPE html>
<html>
  <head>
      <meta charset="utf-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />

      <title>How to Set an Expires Header in Apache</title>
      <meta name="description" content="Every Dog has one Blog" />

      <meta name="HandheldFriendly" content="True" />
      <meta name="MobileOptimized" content="320" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />

      <link rel="alternate" type="application/rss+xml" href="http://codebeerstartups.com/feed.xml">
      <link rel="shortcut icon" href="/favicon.ico">
      <link rel="prefetch" href="http://codebeerstartups.com">
      <link rel="canonical" href="http://codebeerstartups.com/2012/10/how-to-set-an-expires-header-in-apache/">

      <link rel="stylesheet" href="/assets/css/init.css">
      <link href='//fonts.googleapis.com/css?family=Domine:700|Open+Sans:400,600|Source+Code+Pro:500' rel='stylesheet' type='text/css'>
      <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
  </head>
  <body>

    <header class="title">
    <a href="http://codebeerstartups.com"><i class="fa fa-bookmark-o fa-lg"></i><span>Codebeerstartups</span></a>
</header>

<nav class="wrapper  ">
    <a href="#" onclick="return false;"><i class="fa fa-navicon fa-lg"></i></a>
    <ul>
        
            <li><a href="/about.html">About</a></li>
        
            
        
            <li><a href="/contact.html">Contact</a></li>
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
    </ul>
</nav>

    <div class="index">
    <div class="wrapper">
        <h1 class="right">How to Set an Expires Header in Apache</h1>
        <h2 class="left">Introduction</h2>
    </div>
</div>

<div class="profile ">
    <img src="/assets/img/author.jpg" class="profileimage" alt="user">
    <h4>Mohit Jain</h4>
    <ul>
    	
        <li><a href="http://twitter.com/jainmohit27" class="smallsocialbutton twitter" target="_blank"><i class="fa fa-twitter"></i></a></li>
        
        
        <li><a href="http://facebook.com/jain.mohit27" class="smallsocialbutton facebook" target="_blank"><i class="fa fa-facebook"></i></a></li>
        
        
        <li><a href="http://github.com/mohitjain" class="smallsocialbutton github" target="_blank"><i class="fa fa-github"></i></a></li>
        
        
        <li><a href="http://codebeerstartups.com/feed.xml" class="smallsocialbutton rss" target="_blank"><i class="fa fa-rss"></i></a></li>
    </ul>
    <p>Rails Developer</p>
    <hr>
</div>

<div id="cover" class="cover ">
    <div class="background" style="background-image:url('');"></div>
    <header class="wrapper">
        <h2>
        	
				optimization
          	
				performance
          	
				server
          	
        </h2>
        <h1><a href="/2012/10/how-to-set-an-expires-header-in-apache/">How to Set an Expires Header in Apache</a></h1>
        <span>
            Posted by <a href="http://codebeerstartups.com" target="_blank">Mohit Jain</a>
                on <i class="fa fa-clock-o"></i> <time datetime="2012-10-21">October 21, 2012</time>.
        </span>
    </header>
    <i class="fa fa-chevron-down movedown"></i>
</div>

<section class="posts wrapper">
    <article class="post ">

        <header>
            <div class="feature"><span>Featured</span><i class="fa fa-bookmark fa-lg"></i></div>
            <h2>
            	
					optimization
          		
					performance
          		
					server
          		
            </h2>
            <h1 id="posttitle"><a href="#">How to Set an Expires Header in Apache</a></h1>
            <span>
                Posted by <a href="" target="_blank">Mohit Jain</a>
                on <i class="fa fa-clock-o"></i> <time datetime="2012-10-21">October 21, 2012</time>.
            </span>
        </header>

        <section class="postbody">
            <p>Setting an Expires (or Cache-Control) header in Apache will help speed up your website. I’m running Apache 2.x, and define an expires header for all of the site’s static assets (images, stylesheets, and scripts).</p>

<p>In Apache, mod_expires is a module that allows you to set a given period of time to live for web pages and other objects served from web pages. The idea is to inform web browsers how often they should reload objects from the server. This will save you bandwidth and server load, because clients who follow the header will reload objects less frequently.</p>

<h2 id="command-to-enable-modexpires">Command to enable mod_expires:</h2>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">a2enmod</span> <span class="n">expires</span></code></pre></div>

<h2 id="to-set-an-expires-header-simply-add-the-following-to-the-virtualhost-section-of-your-apache-vhost-configuration">To set an expires header, simply add the following to the “virtualHost” section of your Apache vhost configuration:</h2>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="no">ExpiresActive</span> <span class="no">On</span>
<span class="no">ExpiresByType</span> <span class="n">image</span><span class="o">/</span><span class="n">gif</span> <span class="s2">&quot;access plus 1 months&quot;</span>
<span class="no">ExpiresByType</span> <span class="n">image</span><span class="o">/</span><span class="n">jpg</span> <span class="s2">&quot;access plus 1 months&quot;</span>
<span class="no">ExpiresByType</span> <span class="n">image</span><span class="o">/</span><span class="n">jpeg</span> <span class="s2">&quot;access plus 1 months&quot;</span>
<span class="no">ExpiresByType</span> <span class="n">image</span><span class="o">/</span><span class="n">png</span> <span class="s2">&quot;access plus 1 months&quot;</span>
<span class="no">ExpiresByType</span> <span class="n">image</span><span class="o">/</span><span class="n">vnd</span><span class="o">.</span><span class="n">microsoft</span><span class="o">.</span><span class="n">icon</span> <span class="s2">&quot;access plus 1 months&quot;</span>
<span class="no">ExpiresByType</span> <span class="n">image</span><span class="o">/</span><span class="n">x</span><span class="o">-</span><span class="n">icon</span> <span class="s2">&quot;access plus 1 months&quot;</span>
<span class="no">ExpiresByType</span> <span class="n">image</span><span class="o">/</span><span class="n">ico</span> <span class="s2">&quot;access plus 1 months&quot;</span>
<span class="no">ExpiresByType</span> <span class="n">application</span><span class="o">/</span><span class="n">javascript</span> <span class="err">“</span><span class="n">now</span> <span class="n">plus</span> <span class="mi">1</span> <span class="n">months</span><span class="err">”</span>
<span class="no">ExpiresByType</span> <span class="n">application</span><span class="o">/</span><span class="n">x</span><span class="o">-</span><span class="n">javascript</span> <span class="err">“</span><span class="n">now</span> <span class="n">plus</span> <span class="mi">1</span> <span class="n">months</span><span class="err">”</span>
<span class="no">ExpiresByType</span> <span class="n">text</span><span class="o">/</span><span class="n">javascript</span> <span class="err">“</span><span class="n">now</span> <span class="n">plus</span> <span class="mi">1</span> <span class="n">months</span><span class="err">”</span>
<span class="no">ExpiresByType</span> <span class="n">text</span><span class="o">/</span><span class="n">css</span> <span class="err">“</span><span class="n">now</span> <span class="n">plus</span> <span class="mi">1</span> <span class="n">months</span><span class="err">”</span>
<span class="no">ExpiresDefault</span> <span class="s2">&quot;access plus 1 days&quot;</span></code></pre></div>

<p>Alternatively you can add it to your htaccess file in an block.</p>

<p>Also you should enable mod_defalate which will gzip your html, css, and javascript</p>

<h2 id="command-to-enable-moddefalate">Command to enable mod_defalate:</h2>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">a2enmod</span> <span class="n">deflate</span></code></pre></div>

<p>And add these lines:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># gzip html, css and js</span>
<span class="no">AddOutputFilterByType</span> <span class="no">DEFLATE</span> <span class="n">text</span><span class="o">/</span><span class="n">html</span> <span class="n">text</span><span class="o">/</span><span class="n">css</span> <span class="n">application</span><span class="o">/</span><span class="n">x</span><span class="o">-</span><span class="n">javascript</span> <span class="n">application</span><span class="o">/</span><span class="n">javascript</span></code></pre></div>


        </section>

        <footer>
            <ul class="share left">
                <li><a href="http://twitter.com/share?text=How to Set an Expires Header in Apache&url=http://codebeerstartups.com/2012/10/how-to-set-an-expires-header-in-apache/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" class="smallbutton lightgray"><i class="fa fa-twitter"></i>Twitter</a></li>
                <li><a href="https://www.facebook.com/sharer/sharer.php?u=http://codebeerstartups.com/2012/10/how-to-set-an-expires-header-in-apache/" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" class="smallbutton lightgray"><i class="fa fa-facebook"></i>Facebook</a></li>
            </ul>
        </footer>

        <div class="postprofile">
            <img src="/assets/img/author.jpg" class="author" alt="user">
            <div class="info">
                <h4>Mohit Jain</h4>
                <a href="http://codebeerstartups.com">http://codebeerstartups.com</a>
                <p>Rails Developer</p>
                <ul class="social">
       				
                    <li><a href="http://twitter.com/jainmohit27" class="twitter" target="_blank"><i class="fa fa-twitter"></i></a></li>
                    
					
                    <li><a href="http://facebook.com/jain.mohit27" class="facebook" target="_blank"><i class="fa fa-facebook"></i></a></li>
                    
					
                    <li><a href="http://github.com/mohitjain" class="github" target="_blank"><i class="fa fa-github-alt"></i></a></li>
                    
					
					
					
                    <li><a href="https://plus.google.com/+MohitJain27" class="googleplus" target="_blank"><i class="fa fa-google-plus"></i></a></li>
					
					
					
                    <li><a href="https://www.pinterest.com/mohitjain27/" class="pinterest" target="_blank"><i class="fa fa-pinterest"></i></a></li>
					
					
                    <li><a href="https://www.linkedin.com/profile/view?id=40603170" class="linkedin" target="_blank"><i class="fa fa-linkedin"></i></a></li>
					
                    <li><a href="http://codebeerstartups.com/feed.xml" class="rss" target="_blank"><i class="fa fa-rss"></i></a></li>
                </ul>
            </div>
        </div>


        <div class="comments">
            <a href="javascript:;" class="readmore smallbutton blue"><i class="fa fa-comments"></i>View Comments...</a>
            <div id="disqus_thread"></div>
            <div id="g-comments"></div>
        </div>

    </article>

</section>


    <footer class="wrapper">
    <div class="smallnav">
    	
        	<a href="/about.html">About</a> &bull;
        
        	
        
        	<a href="/contact.html">Contact</a> &bull;
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
    </div>
    <div>
        Copyright &copy; <a href="http://codebeerstartups.com/">Codebeerstartups</a>. 2014 &bull; All rights reserved.
        <span class="ghost">Proudly published with <a href="http://jekyllrb.com/" target="_blank">Jekyll</a>.</span>
    </div>
</footer>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script type="text/javascript">
      var config = {
        'disqus_shortname': 'codebeerstartups',
        'google_comments': false,
        'analytics_id': 'UA-30450850-3',
        'analytics_domain': 'codebeerstartups.com',
        'readingtime': true,
        'autoload_comments': true
      };
    </script>
    <script async type="text/javascript" src="/assets/js/theme.min.js"></script>

  </body>
</html>