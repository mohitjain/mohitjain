<!DOCTYPE html>
<html>
  <head>
      <meta charset="utf-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />

      <title>4. Adding Validations in models in backbone js – Learning Backbone js</title>
      <meta name="description" content="Every Dog has one Blog" />

      <meta name="HandheldFriendly" content="True" />
      <meta name="MobileOptimized" content="320" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />

      <link rel="alternate" type="application/rss+xml" href="http://codebeerstartups.com/feed.xml">
      <link rel="shortcut icon" href="/favicon.ico">
      <link rel="prefetch" href="http://codebeerstartups.com">
      <link rel="canonical" href="http://codebeerstartups.com/2012/12/4-adding-validations-in-models-in-backbone-js-learning-backbone-js/">

      <link rel="stylesheet" href="/assets/css/init.css">
      <link href='//fonts.googleapis.com/css?family=Domine:700|Open+Sans:400,600|Source+Code+Pro:500' rel='stylesheet' type='text/css'>
      <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
  </head>
  <body>

    <header class="title">
    <a href="http://codebeerstartups.com"><i class="fa fa-bookmark-o fa-lg"></i><span>Codebeerstartups</span></a>
</header>

<nav class="wrapper  featured  ">
    <a href="#" onclick="return false;"><i class="fa fa-navicon fa-lg"></i></a>
    <ul>
        
            <li><a href="/about/">About</a></li>
        
            
        
            <li><a href="/contact/">Contact</a></li>
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
    </ul>
</nav>

    <div class="index">
    <div class="wrapper">
        <h1 class="right">4. Adding Validations in models in backbone js – Learning Backbone js</h1>
        <h2 class="left">Introduction</h2>
    </div>
</div>

<div class="profile  featured ">
    <img src="/assets/img/author.jpg" class="profileimage" alt="user">
    <h4>Mohit Jain</h4>
    <ul>
    	
        <li><a href="http://twitter.com/jainmohit27" class="smallsocialbutton twitter" target="_blank"><i class="fa fa-twitter"></i></a></li>
        
        
        <li><a href="http://facebook.com/jain.mohit27" class="smallsocialbutton facebook" target="_blank"><i class="fa fa-facebook"></i></a></li>
        
        
        <li><a href="http://github.com/mohitjain" class="smallsocialbutton github" target="_blank"><i class="fa fa-github"></i></a></li>
        
        
        <li><a href="http://codebeerstartups.com/feed.xml" class="smallsocialbutton rss" target="_blank"><i class="fa fa-rss"></i></a></li>
    </ul>
    <p>Rails Developer</p>
    <hr>
</div>

<div id="cover" class="cover  featured ">
    <div class="background" style="background-image:url('/media/backbone.jpg');"></div>
    <header class="wrapper">
        <h2>
        	
				Backbone.js
          	
				Validations
          	
        </h2>
        <h1><a href="/2012/12/4-adding-validations-in-models-in-backbone-js-learning-backbone-js/">4. Adding Validations in models in backbone js – Learning Backbone js</a></h1>
        <span>
            Posted by <a href="http://codebeerstartups.com" target="_blank">Mohit Jain</a>
                on <i class="fa fa-clock-o"></i> <time datetime="2012-12-17">December 17, 2012</time>.
        </span>
    </header>
    <i class="fa fa-chevron-down movedown"></i>
</div>

<section class="posts wrapper">
    <article class="post  featured ">

        <header>
            <div class="feature"><span>Featured</span><i class="fa fa-bookmark fa-lg"></i></div>
            <h2>
            	
					Backbone.js
          		
					Validations
          		
            </h2>
            <h1 id="posttitle"><a href="#">4. Adding Validations in models in backbone js – Learning Backbone js</a></h1>
            <span>
                Posted by <a href="" target="_blank">Mohit Jain</a>
                on <i class="fa fa-clock-o"></i> <time datetime="2012-12-17">December 17, 2012</time>.
            </span>
        </header>

        <section class="postbody">
            <blockquote>
  <p>This entry is part 4 of 14 in the series for <a href="/2012/12/a-complete-guide-for-learning-backbone-js/">A Complete Guide for Learning Backbone Js</a></p>
</blockquote>

<ul>
  <li><a href="/2012/12/introduction-to-backbone-js-and-setting-up-an-working-environment">Introduction and Installation</a></li>
  <li><a href="/2012/12/2-representing-your-data-in-javascript-learning-backbone-js">Representing your data in javascript</a></li>
  <li><a href="/2012/12/3-defining-models-in-backbone-js-learning-backbone-js">Defining Models in backbone js</a></li>
  <li><a href="/2012/12/4-adding-validations-in-models-in-backbone-js-learning-backbone-js">Adding Validations in models backbone js </a></li>
  <li><a href="/2012/12/5-explaining-views-in-backbone-js-learning-backbone-js">Explaining views in backbone js</a></li>
  <li><a href="/2012/12/how-to-use-templates-in-backbone-js-learning-backbone-js">How to use templates in backbone js </a></li>
  <li><a href="/2012/12/how-to-improve-templates-in-backbone-js-learning-backbone-js">How to improve templates in backbone js</a></li>
  <li><a href="/2012/12/8-collections-in-backbone-js-learning-backbone-js">Collections in backbone js</a></li>
  <li><a href="/2012/12/9-collection-views-in-backbone-js-learning-backbone-js">Collection views in backbone js </a></li>
  <li><a href="/2012/12/template-helpers-in-backbone-js-learning-backbonejs">Template helpers in backbone js</a></li>
  <li><a href="/2012/12/11-namespacing-in-backbone-js-learning-backbonejs">How to use namespace in backbone js </a></li>
  <li><a href="/2012/12/12-listening-to-dom-events-in-backbone-js-learning-backbone-js">How to handle dom events in backbone js and define your custom events</a> (<a href="http://listen-dom-events-backbone.herokuapp.com">Live Demo</a>)</li>
  <li><a href="/2013/01/routers-in-backbone-js-learning-backbone-js">Routing in backbone js</a></li>
</ul>

<hr />

<h2 id="agenda">Agenda</h2>

<p>So in previous post we defined a person class with some default values in it. Now I want to add some validations like, Age can’t be negative or name can’t be blank. Lets start adding Validations in models in backbone js.</p>

<h2 id="what-we-have-till-now">What we have till now</h2>

<p>So we have a person model ie:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">Person</span> <span class="o">=</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">Model</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
	<span class="na">defaults</span><span class="p">:</span> <span class="p">{</span>
		<span class="na">name</span><span class="p">:</span> <span class="s1">'Guest User'</span><span class="p">,</span>
		<span class="na">age</span><span class="p">:</span> <span class="mi">23</span><span class="p">,</span>
		<span class="na">occupation</span><span class="p">:</span> <span class="s1">'Worker'</span>
	<span class="p">},</span>
	<span class="na">work</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'name'</span><span class="p">)</span>  <span class="s1">' is working.'</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">});</span></code></pre></figure>

<h2 id="defining-the-first-validation">Defining the first validation</h2>

<p>Now you can validations by using validate function like this:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">Person</span> <span class="o">=</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">Model</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
	<span class="na">defaults</span><span class="p">:</span> <span class="p">{</span>
		<span class="na">name</span><span class="p">:</span> <span class="s1">'Guest User'</span><span class="p">,</span>
		<span class="na">age</span><span class="p">:</span> <span class="mi">23</span><span class="p">,</span>
		<span class="na">occupation</span><span class="p">:</span> <span class="s1">'worker'</span>
	<span class="p">},</span>

	<span class="na">validate</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">attributes</span><span class="p">){</span>
		<span class="k">if</span> <span class="p">(</span> <span class="nx">attributes</span><span class="p">.</span><span class="nx">age</span> <span class="o">&lt;</span>  <span class="p">){</span>
			<span class="k">return</span> <span class="s1">'Age must be positive.'</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">attributes</span><span class="p">.</span><span class="nx">name</span> <span class="p">){</span>
			<span class="k">return</span> <span class="s1">'Every person must have a name.'</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">},</span>

	<span class="na">work</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'name'</span><span class="p">)</span> <span class="o">+</span> <span class="s1">' is working.'</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">});</span></code></pre></figure>

<h2 id="fire-up-the-console-and-fire-these-commands">Fire up the console and fire these commands</h2>

<p>Now lets head back to chrome developer tools. In the console:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">({</span><span class="na">name</span><span class="p">:</span> <span class="s2">"Mohit Jain"</span><span class="p">,</span> <span class="na">age</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="na">occupation</span><span class="p">:</span> <span class="s2">"Software Developer"</span><span class="p">})</span> <span class="c1">// This will not trigger validate method as validate method will be triggered only in case of set.</span>
<span class="nx">person</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'age'</span><span class="p">)</span><span class="c1">// will return -1</span>

<span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">;</span>
<span class="nx">person</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'age'</span><span class="p">)</span><span class="c1">// will return 23 as default value</span>
<span class="nx">person</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">'age'</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="c1">// will return false and value ie -1 will not be set</span>
<span class="nx">person</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'age'</span><span class="p">)</span><span class="c1">// will still return ie 23</span>

<span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">;</span>
<span class="nx">person</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'age'</span><span class="p">)</span><span class="c1">// will return 23 as default value</span>
<span class="nx">person</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">'age'</span><span class="p">,</span> <span class="mi">18</span><span class="p">)</span><span class="c1">// will return true and value ie 18 will be set</span>
<span class="nx">person</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'age'</span><span class="p">)</span><span class="c1">// will return new value ie 18</span></code></pre></figure>

<h2 id="displaying-the-error-messages">Displaying the error messages.</h2>

<p>To see the errors messages, you have to bind a listen event to the person. A simple way to do that is:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">person</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'error'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">model</span><span class="p">,</span><span class="nx">error</span><span class="p">){</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span> <span class="c1">// printing the error message on console.</span>
<span class="p">});</span></code></pre></figure>

<p><strong>Now if you say:</strong></p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">person</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s2">"age"</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="c1">// it will return false and will show the error message.</span></code></pre></figure>

<h2 id="output-on-chrome-console">Output on Chrome Console</h2>

<p>Cool. Lets see what we have on the console.</p>

<p><img src="/wp-content/uploads/2012/12/adding-validations-in-backbone-models.png" alt="adding validations in backbone models" /></p>

<p>Pretty simple right? Lets move forward and see how handle data presentation ie views in backbone js.</p>

<hr />

<h2 id="source-code">Source code</h2>

<p>If you are facing any issues. Checkout the source code files at <a href="https://github.com/mohitjain/learning_basics_backbone" title="Source Code for the post">github</a>. I will be creating more and more directories in the same repo regarding each post. Still if you have any doubts you can comment on the blog post itself and I will try to reply back asap.</p>

        </section>

        <footer>
            <ul class="share left">
                <li><a href="http://twitter.com/share?text=4. Adding Validations in models in backbone js – Learning Backbone js&url=http://codebeerstartups.com/2012/12/4-adding-validations-in-models-in-backbone-js-learning-backbone-js/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" class="smallbutton lightgray"><i class="fa fa-twitter"></i>Twitter</a></li>
                <li><a href="https://www.facebook.com/sharer/sharer.php?u=http://codebeerstartups.com/2012/12/4-adding-validations-in-models-in-backbone-js-learning-backbone-js/" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" class="smallbutton lightgray"><i class="fa fa-facebook"></i>Facebook</a></li>
            </ul>
        </footer>

        <div class="postprofile">
            <img src="/assets/img/author.jpg" class="author" alt="user">
            <div class="info">
                <h4>Mohit Jain</h4>
                <a href="http://codebeerstartups.com">http://codebeerstartups.com</a>
                <p>Rails Developer</p>
                <ul class="social">
       				
                    <li><a href="http://twitter.com/jainmohit27" class="twitter" target="_blank"><i class="fa fa-twitter"></i></a></li>
                    
					
                    <li><a href="http://facebook.com/jain.mohit27" class="facebook" target="_blank"><i class="fa fa-facebook"></i></a></li>
                    
					
                    <li><a href="http://github.com/mohitjain" class="github" target="_blank"><i class="fa fa-github-alt"></i></a></li>
                    
					
					
					
                    <li><a href="https://plus.google.com/+MohitJain27" class="googleplus" target="_blank"><i class="fa fa-google-plus"></i></a></li>
					
					
					
                    <li><a href="https://www.pinterest.com/mohitjain27/" class="pinterest" target="_blank"><i class="fa fa-pinterest"></i></a></li>
					
					
                    <li><a href="https://www.linkedin.com/profile/view?id=40603170" class="linkedin" target="_blank"><i class="fa fa-linkedin"></i></a></li>
					
                    <li><a href="http://codebeerstartups.com/feed.xml" class="rss" target="_blank"><i class="fa fa-rss"></i></a></li>
                </ul>
            </div>
        </div>


        <div class="comments">
            <a href="javascript:;" class="readmore smallbutton blue"><i class="fa fa-comments"></i>View Comments...</a>
            <div id="disqus_thread"></div>
            <div id="g-comments"></div>
        </div>

    </article>

</section>


    <footer class="wrapper">
    <div class="smallnav">
    	
        	<a href="/about/">About</a> &bull;
        
        	
        
        	<a href="/contact/">Contact</a> &bull;
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
    </div>
    <div>
        Copyright &copy; <a href="http://codebeerstartups.com/">Codebeerstartups</a>. 2014 &bull; All rights reserved.
        <span class="ghost">Proudly published with <a href="http://jekyllrb.com/" target="_blank">Jekyll</a>.</span>
    </div>
</footer>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script type="text/javascript">
      var config = {
        'disqus_shortname': 'codebeerstartups',
        'google_comments': false,
        'analytics_id': 'UA-30450850-3',
        'analytics_domain': 'codebeerstartups.com',
        'readingtime': true,
        'autoload_comments': true
      };
    </script>
    <script async type="text/javascript" src="/assets/js/theme.min.js"></script>

  </body>
</html>