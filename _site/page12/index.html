<!DOCTYPE html>
<html>
  <head>
      <meta charset="utf-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />

      <title>Codebeerstartups</title>
      <meta name="description" content="Every Dog has one Blog" />

      <meta name="HandheldFriendly" content="True" />
      <meta name="MobileOptimized" content="320" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />

      <link rel="alternate" type="application/rss+xml" href="http://codebeerstartups.com/feed.xml">
      <link rel="shortcut icon" href="/favicon.ico">
      <link rel="prefetch" href="http://codebeerstartups.com">
      <link rel="canonical" href="http://codebeerstartups.com/page12/">

      <link rel="stylesheet" href="/assets/css/init.css">
      <link href='//fonts.googleapis.com/css?family=Domine:700|Open+Sans:400,600|Source+Code+Pro:500' rel='stylesheet' type='text/css'>
      <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
  </head>
  <body>

    <header class="title">
    <a href="http://codebeerstartups.com"><i class="fa fa-bookmark-o fa-lg"></i><span>Codebeerstartups</span></a>
</header>

<nav class="wrapper  ">
    <a href="#" onclick="return false;"><i class="fa fa-navicon fa-lg"></i></a>
    <ul>
        
            <li><a href="/about/">About</a></li>
        
            
        
            <li><a href="/contact/">Contact</a></li>
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
    </ul>
</nav>

    <div class="profile">
	
	<h4>Codebeerstartups</h4>
	<p>Every Dog has one Blog</p>
	<hr>
</div>

<section class="posts postindex wrapper">

	
		<article class="post  featured ">
			<header>
				<div class="feature"><span>Featured</span><i class="fa fa-bookmark fa-lg"></i></div>
				<h2>
					
					Backbone.js 
					
				</h2>
				<h1><a href="/2012/12/9-collection-views-in-backbone-js-learning-backbone-js/">9. Collection views in backbone js &#8211; Learning Backbone js</a></h1>
				<span>
					Posted on <i class="fa fa-clock-o"></i><time datetime="2012-12-23">December 23, 2012</time>.
				</span>
				<div class="excerpt">
					
						<blockquote>
  <p>This entry is part 9 of 14 in the series for <a href="/2012/12/a-complete-guide-for-learning-backbone-js/">A Complete Guide for Learning Backbone Js</a></p>
</blockquote>

<ul>
  <li><a href="/2012/12/introduction-to-backbone-js-and-setting-up-an-working-environment">Introduction and Installation</a></li>
  <li><a href="/2012/12/2-representing-your-data-in-javascript-learning-backbone-js">Representing your data in javascript</a></li>
  <li><a href="/2012/12/3-defining-models-in-backbone-js-learning-backbone-js">Defining Models in backbone js</a></li>
  <li><a href="/2012/12/4-adding-validations-in-models-in-backbone-js-learning-backbone-js">Adding Validations in models backbone js </a></li>
  <li><a href="/2012/12/5-explaining-views-in-backbone-js-learning-backbone-js">Explaining views in backbone js</a></li>
  <li><a href="/2012/12/how-to-use-templates-in-backbone-js-learning-backbone-js">How to use templates in backbone js </a></li>
  <li><a href="/2012/12/how-to-improve-templates-in-backbone-js-learning-backbone-js">How to improve templates in backbone js</a></li>
  <li><a href="/2012/12/8-collections-in-backbone-js-learning-backbone-js">Collections in backbone js</a></li>
  <li><a href="/2012/12/9-collection-views-in-backbone-js-learning-backbone-js">Collection views in backbone js </a></li>
  <li><a href="/2012/12/template-helpers-in-backbone-js-learning-backbonejs">Template helpers in backbone js</a></li>
  <li><a href="/2012/12/11-namespacing-in-backbone-js-learning-backbonejs">How to use namespace in backbone js </a></li>
  <li><a href="/2012/12/12-listening-to-dom-events-in-backbone-js-learning-backbone-js">How to handle dom events in backbone js and define your custom events</a> (<a href="http://listen-dom-events-backbone.herokuapp.com">Live Demo</a>)</li>
  <li><a href="/2013/01/routers-in-backbone-js-learning-backbone-js">Routing in backbone js</a></li>
</ul>

<hr />

<h2 id="agenda">Agenda</h2>

<p>In the previous lesson we learned how to use collection in backbone js. Now in this topic we will learn how to generate collection views in backbone js. Lets start coding..</p>

<h2 id="what-we-have-till-now">What we have till now</h2>

<p>So from previous lesson we have:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Person Model</span>
<span class="kd">var</span> <span class="nx">Person</span> <span class="o">=</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">Model</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
	<span class="na">defaults</span><span class="p">:</span> <span class="p">{</span>
		<span class="na">name</span><span class="p">:</span> <span class="s1">'Guest User'</span><span class="p">,</span>
		<span class="na">age</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
		<span class="na">occupation</span><span class="p">:</span> <span class="s1">'worker'</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="c1">// A List of People</span>
<span class="kd">var</span> <span class="nx">PeopleCollection</span> <span class="o">=</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">Collection</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
	<span class="na">model</span><span class="p">:</span> <span class="nx">Person</span>
<span class="p">});</span>

<span class="c1">// The View for a Person</span>
<span class="kd">var</span> <span class="nx">PersonView</span> <span class="o">=</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">View</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
	<span class="na">tagName</span><span class="p">:</span> <span class="s1">'li'</span><span class="p">,</span>

	<span class="na">template</span><span class="p">:</span> <span class="nx">_</span><span class="p">.</span><span class="nx">template</span><span class="p">(</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#personTemplate'</span><span class="p">).</span><span class="nx">html</span><span class="p">()),</span>

	<span class="na">initialize</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">render</span><span class="p">();</span>
	<span class="p">},</span>

	<span class="na">render</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">$el</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">template</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">toJSON</span><span class="p">()));</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">peopleCollection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PeopleCollection</span><span class="p">([</span>
	<span class="p">{</span>
		<span class="na">name</span><span class="p">:</span> <span class="s1">'Mohit Jain'</span><span class="p">,</span>
		<span class="na">age</span><span class="p">:</span> <span class="mi">26</span>
	<span class="p">},</span>
	<span class="p">{</span>
		<span class="na">name</span><span class="p">:</span> <span class="s1">'Taroon Tyagi'</span><span class="p">,</span>
		<span class="na">age</span><span class="p">:</span> <span class="mi">25</span><span class="p">,</span>
		<span class="na">occupation</span><span class="p">:</span> <span class="s1">'web designer'</span>
	<span class="p">},</span>
	<span class="p">{</span>
		<span class="na">name</span><span class="p">:</span> <span class="s1">'Rahul Narang'</span><span class="p">,</span>
		<span class="na">age</span><span class="p">:</span> <span class="mi">26</span><span class="p">,</span>
		<span class="na">occupation</span><span class="p">:</span> <span class="s1">'Java Developer'</span>
	<span class="p">}</span>
<span class="p">]);</span></code></pre></figure>

<h2 id="three-things-we-need">Three things we need</h2>

<ul>
  <li>Person Model</li>
  <li>Person View</li>
  <li>Person Collection</li>
</ul>

<p>So we have person model, person view, but the problem is we dont have collection view, a view that collects all smallers view and make it a complete giant view. Lets define one:</p>

<h2 id="defining-a-collection">Defining a collection</h2>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// View for all people</span>
<span class="kd">var</span> <span class="nx">PeopleView</span> <span class="o">=</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">View</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
	<span class="na">tagName</span><span class="p">:</span> <span class="s1">'ul'</span>
<span class="p">});</span></code></pre></figure>

<p>We defined a PeopleView and as we are using <code class="highlighter-rouge">li</code> tag for small view is PersonView that why we defined tagName: <code class="highlighter-rouge">ul</code> in PeopleView. Now we need to define a render method which should be these functionalities.</p>

<ul>
  <li>Loop over all the person objects</li>
  <li>Should call render for the person objects</li>
  <li>Should display a collection as HTML</li>
</ul>


					
				</div>
			</header>
		</article>
	
		<article class="post  featured ">
			<header>
				<div class="feature"><span>Featured</span><i class="fa fa-bookmark fa-lg"></i></div>
				<h2>
					
					Backbone.js 
					
				</h2>
				<h1><a href="/2012/12/how-to-improve-templates-in-backbone-js-learning-backbone-js/">7. How to improve templates in backbone js &#8211; Learning backbone js</a></h1>
				<span>
					Posted on <i class="fa fa-clock-o"></i><time datetime="2012-12-21">December 21, 2012</time>.
				</span>
				<div class="excerpt">
					
						<blockquote>
  <p>This entry is part 7 of 14 in the series for <a href="/2012/12/a-complete-guide-for-learning-backbone-js/">A Complete Guide for Learning Backbone Js</a></p>
</blockquote>

<ul>
  <li><a href="/2012/12/introduction-to-backbone-js-and-setting-up-an-working-environment">Introduction and Installation</a></li>
  <li><a href="/2012/12/2-representing-your-data-in-javascript-learning-backbone-js">Representing your data in javascript</a></li>
  <li><a href="/2012/12/3-defining-models-in-backbone-js-learning-backbone-js">Defining Models in backbone js</a></li>
  <li><a href="/2012/12/4-adding-validations-in-models-in-backbone-js-learning-backbone-js">Adding Validations in models backbone js </a></li>
  <li><a href="/2012/12/5-explaining-views-in-backbone-js-learning-backbone-js">Explaining views in backbone js</a></li>
  <li><a href="/2012/12/how-to-use-templates-in-backbone-js-learning-backbone-js">How to use templates in backbone js </a></li>
  <li><a href="/2012/12/how-to-improve-templates-in-backbone-js-learning-backbone-js">How to improve templates in backbone js</a></li>
  <li><a href="/2012/12/8-collections-in-backbone-js-learning-backbone-js">Collections in backbone js</a></li>
  <li><a href="/2012/12/9-collection-views-in-backbone-js-learning-backbone-js">Collection views in backbone js </a></li>
  <li><a href="/2012/12/template-helpers-in-backbone-js-learning-backbonejs">Template helpers in backbone js</a></li>
  <li><a href="/2012/12/11-namespacing-in-backbone-js-learning-backbonejs">How to use namespace in backbone js </a></li>
  <li><a href="/2012/12/12-listening-to-dom-events-in-backbone-js-learning-backbone-js">How to handle dom events in backbone js and define your custom events</a> (<a href="http://listen-dom-events-backbone.herokuapp.com">Live Demo</a>)</li>
  <li><a href="/2013/01/routers-in-backbone-js-learning-backbone-js">Routing in backbone js</a></li>
</ul>

<hr />

<h2 id="agenda">Agenda</h2>

<p>So in the previous lesson we learnt how to create templates. It good but it can be improved further using external templates. So in the lesson we will learn how to improve templates in backbone js.</p>

<h2 id="what-we-have-till-now">What we have till now</h2>

<p>From previous episode we have this PersonView class</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">Person</span> <span class="o">=</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">Model</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
	<span class="na">defaults</span><span class="p">:</span> <span class="p">{</span>
		<span class="na">name</span><span class="p">:</span> <span class="s1">'Guest Worker'</span><span class="p">,</span>
		<span class="na">age</span><span class="p">:</span> <span class="mi">23</span><span class="p">,</span>
		<span class="na">occupation</span><span class="p">:</span> <span class="s1">'worker'</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">PersonView</span> <span class="o">=</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">View</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
	<span class="na">tagName</span><span class="p">:</span> <span class="s1">'li'</span><span class="p">,</span>

	<span class="na">my_template</span><span class="p">:</span> <span class="nx">_</span><span class="p">.</span><span class="nx">template</span><span class="p">(</span><span class="s2">"&lt;strong&gt;&lt;%= name %&gt;&lt;/strong&gt; (&lt;%= age %&gt;) - &lt;%= occupation %&gt;"</span><span class="p">),</span>

	<span class="na">initialize</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">render</span><span class="p">();</span>
	<span class="p">},</span>

	<span class="na">render</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">$el</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">my_template</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">toJSON</span><span class="p">()));</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="c1">// calls from console</span>

<span class="c1">// var person = new Person;  // a person object created...</span>
<span class="c1">// var personView = new PersonView({ model: person });</span>
<span class="c1">// personView.el   // ----&gt;; You can call this method and it will display the view..</span>
<span class="c1">//$(document.body).html(personView.el);  //  ---&gt;; This will add output to the dom. This is not ideal but good enough for demo.</span></code></pre></figure>

<p>So now we will take the template html code out into a external file and then call it here in out template. So lets use index.html file and define a template there. So just paste this code in your <code class="highlighter-rouge">index.html</code> file</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">id</span><span class="o">=</span><span class="s2">"personTemplate"</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/template"</span><span class="o">&gt;</span>
	<span class="o">&lt;</span><span class="nx">strong</span><span class="o">&gt;&lt;%=</span> <span class="nx">name</span> <span class="o">%&gt;&lt;</span><span class="sr">/strong&gt; </span><span class="se">(</span><span class="sr">&lt;%= age %&gt;</span><span class="se">)</span><span class="sr"> - &lt;%= occupation %</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/script&gt;</span></code></pre></figure>

<p>We have defined this script as <code class="highlighter-rouge">text/template</code> so that browser don’t execute this as normal javascript code. So once we have defined the template we can call this external template in our PersonView file using jquery. Here is the new <code class="highlighter-rouge">PersonView</code> Class.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">Person</span> <span class="o">=</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">Model</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
	<span class="na">defaults</span><span class="p">:</span> <span class="p">{</span>
		<span class="na">name</span><span class="p">:</span> <span class="s1">'Guest User'</span><span class="p">,</span>
		<span class="na">age</span><span class="p">:</span> <span class="mi">23</span><span class="p">,</span>
		<span class="na">occupation</span><span class="p">:</span> <span class="s1">'worker'</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">PersonView</span> <span class="o">=</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">View</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
	<span class="na">tagName</span><span class="p">:</span> <span class="s1">'li'</span><span class="p">,</span>

	<span class="na">template</span><span class="p">:</span> <span class="nx">_</span><span class="p">.</span><span class="nx">template</span><span class="p">(</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#personTemplate'</span><span class="p">).</span><span class="nx">html</span><span class="p">()),</span>

	<span class="na">initialize</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">render</span><span class="p">();</span>
	<span class="p">},</span>

	<span class="na">render</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">$el</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">template</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">toJSON</span><span class="p">()));</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="c1">// calls from console</span>

<span class="c1">// var person = new Person;  // a person object created...</span>
<span class="c1">// var personView = new PersonView({ model: person });</span>
<span class="c1">// personView.el   // ----&gt;; You can call this method and it will display the view..</span>
<span class="c1">//$(document.body).html(personView.el);  //  ---&gt;; This will add output to the dom. This is not ideal but good enough for demo.</span></code></pre></figure>


					
				</div>
			</header>
		</article>
	
		<article class="post ">
			<header>
				<div class="feature"><span>Featured</span><i class="fa fa-bookmark fa-lg"></i></div>
				<h2>
					
					optimization 
					
					performance 
					
					quick-solution 
					
					tips-and-tricks 
					
					utilities 
					
				</h2>
				<h1><a href="/2012/12/clear-your-logs-in-development-automatically-when-they-are-too-large-in-ruby-on-rails/">Clear your logs in development automatically when they are too large in ruby on rails
</a></h1>
				<span>
					Posted on <i class="fa fa-clock-o"></i><time datetime="2012-12-21">December 21, 2012</time>.
				</span>
				<div class="excerpt">
					
						<p>If you want to clear your logs in development automatically when they are too large in  here is a simple way to do that.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># config/initializers/clear_logs.rb</span>
<span class="c1"># This snippet simply clears your logs when they are too large.</span>
<span class="c1"># Large logs mean looooong search in TextMate. You know it :)</span>
<span class="c1"># Every time you run rails server or rails console it checks log sizes</span>
<span class="c1"># and clears the logs for you if necessary.</span>

<span class="k">if</span> <span class="no">Rails</span><span class="p">.</span><span class="nf">env</span><span class="p">.</span><span class="nf">development?</span>
  <span class="no">MAX_LOG_SIZE</span> <span class="o">=</span> <span class="mi">2</span><span class="p">.</span><span class="nf">megabytes</span>

  <span class="n">logs</span> <span class="o">=</span> <span class="no">File</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="no">Rails</span><span class="p">.</span><span class="nf">root</span><span class="p">,</span> <span class="s1">'log'</span><span class="p">,</span> <span class="s1">'*.log'</span><span class="p">)</span>
  <span class="k">if</span> <span class="no">Dir</span><span class="p">[</span><span class="n">logs</span><span class="p">].</span><span class="nf">any?</span> <span class="p">{</span><span class="o">|</span><span class="n">log</span><span class="o">|</span> <span class="no">File</span><span class="p">.</span><span class="nf">size?</span><span class="p">(</span><span class="n">log</span><span class="p">).</span><span class="nf">to_i</span> <span class="o">&gt;</span> <span class="no">MAX_LOG_SIZE</span> <span class="p">}</span>
    <span class="vg">$stdout</span><span class="p">.</span><span class="nf">puts</span> <span class="s2">"Runing rake log:clear"</span>
    <span class="sb">`rake log:clear`</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></figure>

   
					
				</div>
			</header>
		</article>
	
		<article class="post  featured ">
			<header>
				<div class="feature"><span>Featured</span><i class="fa fa-bookmark fa-lg"></i></div>
				<h2>
					
					Backbone.js 
					
				</h2>
				<h1><a href="/2012/12/8-collections-in-backbone-js-learning-backbone-js/">8. Collections in backbone js &#8211; Learning Backbone js</a></h1>
				<span>
					Posted on <i class="fa fa-clock-o"></i><time datetime="2012-12-21">December 21, 2012</time>.
				</span>
				<div class="excerpt">
					
						<blockquote>
  <p>This entry is part 8 of 14 in the series for <a href="/2012/12/a-complete-guide-for-learning-backbone-js/">A Complete Guide for Learning Backbone Js</a></p>
</blockquote>

<ul>
  <li><a href="/2012/12/introduction-to-backbone-js-and-setting-up-an-working-environment">Introduction and Installation</a></li>
  <li><a href="/2012/12/2-representing-your-data-in-javascript-learning-backbone-js">Representing your data in javascript</a></li>
  <li><a href="/2012/12/3-defining-models-in-backbone-js-learning-backbone-js">Defining Models in backbone js</a></li>
  <li><a href="/2012/12/4-adding-validations-in-models-in-backbone-js-learning-backbone-js">Adding Validations in models backbone js </a></li>
  <li><a href="/2012/12/5-explaining-views-in-backbone-js-learning-backbone-js">Explaining views in backbone js</a></li>
  <li><a href="/2012/12/how-to-use-templates-in-backbone-js-learning-backbone-js">How to use templates in backbone js </a></li>
  <li><a href="/2012/12/how-to-improve-templates-in-backbone-js-learning-backbone-js">How to improve templates in backbone js</a></li>
  <li><a href="/2012/12/8-collections-in-backbone-js-learning-backbone-js">Collections in backbone js</a></li>
  <li><a href="/2012/12/9-collection-views-in-backbone-js-learning-backbone-js">Collection views in backbone js </a></li>
  <li><a href="/2012/12/template-helpers-in-backbone-js-learning-backbonejs">Template helpers in backbone js</a></li>
  <li><a href="/2012/12/11-namespacing-in-backbone-js-learning-backbonejs">How to use namespace in backbone js </a></li>
  <li><a href="/2012/12/12-listening-to-dom-events-in-backbone-js-learning-backbone-js">How to handle dom events in backbone js and define your custom events</a> (<a href="http://listen-dom-events-backbone.herokuapp.com">Live Demo</a>)</li>
  <li><a href="/2013/01/routers-in-backbone-js-learning-backbone-js">Routing in backbone js</a></li>
</ul>

<hr />

<h2 id="agenda">Agenda</h2>

<p>So from previous lessons we know how to create a Person model, We know how to create PersonView and we how to define inline and external templates. In this lesson we will learn collections in backbone js and in lesson we will learn how define views for collections in backbone js.</p>

<h2 id="what-we-have-till-now">What we have till now</h2>

<p>So here is the code that we have from previous lesson.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">Person</span> <span class="o">=</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">Model</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
	<span class="na">defaults</span><span class="p">:</span> <span class="p">{</span>
		<span class="na">name</span><span class="p">:</span> <span class="s1">'Guest User'</span><span class="p">,</span>
		<span class="na">age</span><span class="p">:</span> <span class="mi">23</span><span class="p">,</span>
		<span class="na">occupation</span><span class="p">:</span> <span class="s1">'worker'</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">PersonView</span> <span class="o">=</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">View</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
	<span class="na">tagName</span><span class="p">:</span> <span class="s1">'li'</span><span class="p">,</span>

	<span class="na">template</span><span class="p">:</span> <span class="nx">_</span><span class="p">.</span><span class="nx">template</span><span class="p">(</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#personTemplate'</span><span class="p">).</span><span class="nx">html</span><span class="p">()),</span>

	<span class="na">initialize</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">render</span><span class="p">();</span>
	<span class="p">},</span>

	<span class="na">render</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">$el</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">template</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">toJSON</span><span class="p">()));</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="c1">// calls from console</span>

<span class="c1">// var person = new Person;  // a person object created...</span>
<span class="c1">// var personView = new PersonView({ model: person });</span>
<span class="c1">// personView.el   // ----&gt;; You can call this method and it will display the view..</span>
<span class="c1">//$(document.body).html(personView.el);  //  ---&gt;; This will add output to the dom. This is not ideal but good enough for demo.</span></code></pre></figure>

<h2 id="defining-a-collection">Defining a collection</h2>

<p>Now from above code if we want to create a new person and add that model in view that it will become messy and it will go so much messy if we have to define some 10 people records. Thanks to backbone that we have collections in backbone js. So here is how we define collections in backbone js.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// A List of People</span>
<span class="kd">var</span> <span class="nx">PeopleCollection</span> <span class="o">=</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">Collection</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
	<span class="na">model</span><span class="p">:</span> <span class="nx">Person</span>
<span class="p">});</span></code></pre></figure>

<h2 id="setting-up-the-defaults">Setting up the defaults</h2>

<p>So we tell collection that what kind of objects we are dealing with by specifying model attribute. In this case we have PeopleCollection so we have Person defined there. So lets see how to can use it. So we have:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Person Model</span>
<span class="kd">var</span> <span class="nx">Person</span> <span class="o">=</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">Model</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
	<span class="na">defaults</span><span class="p">:</span> <span class="p">{</span>
		<span class="na">name</span><span class="p">:</span> <span class="s1">'Guest User'</span><span class="p">,</span>
		<span class="na">age</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
		<span class="na">occupation</span><span class="p">:</span> <span class="s1">'worker'</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="c1">// A List of People</span>
<span class="kd">var</span> <span class="nx">PeopleCollection</span> <span class="o">=</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">Collection</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
	<span class="na">model</span><span class="p">:</span> <span class="nx">Person</span>
<span class="p">});</span>

<span class="c1">// The View for a Person</span>
<span class="kd">var</span> <span class="nx">PersonView</span> <span class="o">=</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">View</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
	<span class="na">tagName</span><span class="p">:</span> <span class="s1">'li'</span><span class="p">,</span>

	<span class="na">template</span><span class="p">:</span> <span class="nx">_</span><span class="p">.</span><span class="nx">template</span><span class="p">(</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#personTemplate'</span><span class="p">).</span><span class="nx">html</span><span class="p">()),</span>

	<span class="na">initialize</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">render</span><span class="p">();</span>
	<span class="p">},</span>

	<span class="na">render</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">$el</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">template</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">toJSON</span><span class="p">()));</span>
	<span class="p">}</span>
<span class="p">});</span></code></pre></figure>

<h2 id="fire-up-the-console-and-fire-these-commands">Fire up the console and fire these commands</h2>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"> <span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">;</span>
 <span class="kd">var</span> <span class="nx">personView</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PersonView</span><span class="p">({</span> <span class="na">model</span><span class="p">:</span> <span class="nx">person</span> <span class="p">});</span>
 <span class="kd">var</span> <span class="nx">peopleCollection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PeopleCollection</span><span class="p">();</span>
 <span class="nx">peopleCollection</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">person</span><span class="p">);</span>
 <span class="kd">var</span> <span class="nx">person2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">({</span><span class="na">name</span><span class="p">:</span> <span class="s2">"Mohit Jain"</span><span class="p">,</span> <span class="na">age</span><span class="p">:</span> <span class="mi">25</span><span class="p">,</span> <span class="na">occupation</span><span class="p">:</span> <span class="s2">"Software Developer"</span><span class="p">});</span>
 <span class="kd">var</span> <span class="nx">personView2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PersonView</span><span class="p">({</span> <span class="na">model</span><span class="p">:</span> <span class="nx">person2</span> <span class="p">});</span>
 <span class="nx">peopleCollection</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">person2</span><span class="p">);</span>
 <span class="nx">peopleCollection</span>
 <span class="nx">peopleCollection</span><span class="p">.</span><span class="nx">toJSON</span><span class="p">();</span> <span class="c1">// --&gt; returns a list of data attributes</span></code></pre></figure>

<h2 id="output-on-chrome-console">Output on Chrome Console</h2>

<p>Lets see what we have on console.</p>

<p><img src="/wp-content/uploads/2012/12/Screen-Shot-2012-12-21-at-1.11.41-AM.png?fit=690,614" alt="Collections in backbone js" /></p>


					
				</div>
			</header>
		</article>
	
		<article class="post  featured ">
			<header>
				<div class="feature"><span>Featured</span><i class="fa fa-bookmark fa-lg"></i></div>
				<h2>
					
					Backbone.js 
					
					optimization 
					
				</h2>
				<h1><a href="/2012/12/how-to-use-templates-in-backbone-js-learning-backbone-js/">6. How to use templates in backbone js &#8211; Learning Backbone js</a></h1>
				<span>
					Posted on <i class="fa fa-clock-o"></i><time datetime="2012-12-20">December 20, 2012</time>.
				</span>
				<div class="excerpt">
					
						<blockquote>
  <p>This entry is part 6 of 14 in the series for <a href="/2012/12/a-complete-guide-for-learning-backbone-js/">A Complete Guide for Learning Backbone Js</a></p>
</blockquote>

<ul>
  <li><a href="/2012/12/introduction-to-backbone-js-and-setting-up-an-working-environment">Introduction and Installation</a></li>
  <li><a href="/2012/12/2-representing-your-data-in-javascript-learning-backbone-js">Representing your data in javascript</a></li>
  <li><a href="/2012/12/3-defining-models-in-backbone-js-learning-backbone-js">Defining Models in backbone js</a></li>
  <li><a href="/2012/12/4-adding-validations-in-models-in-backbone-js-learning-backbone-js">Adding Validations in models backbone js </a></li>
  <li><a href="/2012/12/5-explaining-views-in-backbone-js-learning-backbone-js">Explaining views in backbone js</a></li>
  <li><a href="/2012/12/how-to-use-templates-in-backbone-js-learning-backbone-js">How to use templates in backbone js </a></li>
  <li><a href="/2012/12/how-to-improve-templates-in-backbone-js-learning-backbone-js">How to improve templates in backbone js</a></li>
  <li><a href="/2012/12/8-collections-in-backbone-js-learning-backbone-js">Collections in backbone js</a></li>
  <li><a href="/2012/12/9-collection-views-in-backbone-js-learning-backbone-js">Collection views in backbone js </a></li>
  <li><a href="/2012/12/template-helpers-in-backbone-js-learning-backbonejs">Template helpers in backbone js</a></li>
  <li><a href="/2012/12/11-namespacing-in-backbone-js-learning-backbonejs">How to use namespace in backbone js </a></li>
  <li><a href="/2012/12/12-listening-to-dom-events-in-backbone-js-learning-backbone-js">How to handle dom events in backbone js and define your custom events</a> (<a href="http://listen-dom-events-backbone.herokuapp.com">Live Demo</a>)</li>
  <li><a href="/2013/01/routers-in-backbone-js-learning-backbone-js">Routing in backbone js</a></li>
</ul>

<hr />

<h2 id="agenda">Agenda</h2>

<p>In the previous lessons we learnt how to define views and display data, but problem was complex views. In this lesson we will learn how to use templates in backbone js.</p>

<h2 id="what-we-have-till-now">What we have till now</h2>

<p>So from previous lesson we have this PersonView:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">Person</span> <span class="o">=</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">Model</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
	<span class="na">defaults</span><span class="p">:</span> <span class="p">{</span>
		<span class="na">name</span><span class="p">:</span> <span class="s1">'Guest User'</span><span class="p">,</span>
		<span class="na">age</span><span class="p">:</span> <span class="mi">23</span><span class="p">,</span>
		<span class="na">occupation</span><span class="p">:</span> <span class="s1">'worker'</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">PersonView</span> <span class="o">=</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">View</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
   <span class="na">tagName</span><span class="p">:</span> <span class="s1">'li'</span><span class="p">,</span>

   <span class="na">initialize</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){</span>
     <span class="k">this</span><span class="p">.</span><span class="nx">render</span><span class="p">();</span>
   <span class="p">},</span>

   <span class="na">render</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){</span>
     <span class="k">this</span><span class="p">.</span><span class="nx">$el</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'name'</span><span class="p">)</span> <span class="o">+</span> <span class="s1">' ('</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'age'</span><span class="p">)</span> <span class="o">+</span> <span class="s1">') - '</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'occupation'</span><span class="p">)</span> <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="c1">// calls from console</span>

<span class="c1">// var person = new Person;</span>
<span class="c1">// var personView = new PersonView({ model: person });</span>
<span class="c1">//$(document.body).html(personView.el);  // this is not ideal but good enough for demo.</span></code></pre></figure>

<h2 id="what-was-the-problem">What was the problem</h2>

<p>The problem is this code is:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="k">this</span><span class="p">.</span><span class="nx">$el</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'name'</span><span class="p">)</span> <span class="o">+</span> <span class="s1">' ('</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'age'</span><span class="p">)</span> <span class="o">+</span> <span class="s1">') - '</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'occupation'</span><span class="p">)</span> <span class="p">);</span></code></pre></figure>

<p>This will go more complex if we have images or some complex views etc.</p>

<h2 id="using-a-template">Using a template</h2>

<p>Lets use a template and we pass data to that template and in return that template returns back the full html view. Take a look on this code and lets discuss it line by line.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">Person</span> <span class="o">=</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">Model</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
	<span class="na">defaults</span><span class="p">:</span> <span class="p">{</span>
		<span class="na">name</span><span class="p">:</span> <span class="s1">'Guest Worker'</span><span class="p">,</span>
		<span class="na">age</span><span class="p">:</span> <span class="mi">23</span><span class="p">,</span>
		<span class="na">occupation</span><span class="p">:</span> <span class="s1">'worker'</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">PersonView</span> <span class="o">=</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">View</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
	<span class="na">tagName</span><span class="p">:</span> <span class="s1">'li'</span><span class="p">,</span>

	<span class="na">my_template</span><span class="p">:</span> <span class="nx">_</span><span class="p">.</span><span class="nx">template</span><span class="p">(</span><span class="s2">"&lt;strong&gt;&lt;%= name %&gt;&lt;/strong&gt; (&lt;%= age %&gt;) - &lt;%= occupation %&gt;"</span><span class="p">),</span>

	<span class="na">initialize</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">render</span><span class="p">();</span>
	<span class="p">},</span>

	<span class="na">render</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">$el</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">my_template</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">toJSON</span><span class="p">()));</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="c1">// calls from console</span>

<span class="c1">// var person = new Person;</span>
<span class="c1">// var personView = new PersonView({ model: person });</span>
<span class="c1">//$(document.body).html(personView.el);  // this is not ideal but good enough for demo.</span></code></pre></figure>


					
				</div>
			</header>
		</article>
	

	<div class="pagination">
	
		<a href="/page13" class="smallbutton lightgray left"><i class="fa fa-chevron-left"></i><span>Older Posts</span></a>
	
	
		<a href="/page11" class="smallbutton lightgray right"><span>Newer Posts</span><i class="fa fa-chevron-right"></i></a>
	
</div>

</section>

    <footer class="wrapper">
    <div class="smallnav">
    	
        	<a href="/about/">About</a> &bull;
        
        	
        
        	<a href="/contact/">Contact</a> &bull;
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
        	
        
    </div>
    <div>
        Copyright &copy; <a href="http://codebeerstartups.com/">Codebeerstartups</a>. 2014 &bull; All rights reserved.
        <span class="ghost">Proudly published with <a href="http://jekyllrb.com/" target="_blank">Jekyll</a>.</span>
    </div>
</footer>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script type="text/javascript">
      var config = {
        'disqus_shortname': 'codebeerstartups',
        'google_comments': false,
        'analytics_id': 'UA-30450850-3',
        'analytics_domain': 'codebeerstartups.com',
        'readingtime': true,
        'autoload_comments': true
      };
    </script>
    <script async type="text/javascript" src="/assets/js/theme.min.js"></script>

  </body>
</html>